<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Auswertung – FDP Wahl-O-Mat</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; padding: 0 10px; }
    h2 { color: #003087; }
    #ergebnis { margin-top: 25px; padding: 15px; border: 2px solid #003087; background: #f0f8ff; border-radius: 5px; }
  </style>
</head>
<body>
  <h1>Ihre Auswertung</h1>
  <div id="ergebnis"></div>

  <script>
    const ergebnisDiv = document.getElementById('ergebnis');
    const anzahlFragen = 16;

    const daten = JSON.parse(localStorage.getItem('wahlomatDaten')) || {};
    let summe = 0;
    let beantworteteFragen = 0;

    for (let i = 1; i <= anzahlFragen; i++) {
      const wert = daten['frage' + i];
      if (wert !== undefined && wert !== null && wert !== "") {
        summe += Number(wert);
        beantworteteFragen++;
      }
    }

    if (beantworteteFragen === 0) {
      ergebnisDiv.innerHTML = `<p>Bitte beantworten Sie mindestens eine Frage.</p>`;
    } else {
      const prozent = (summe / (beantworteteFragen * 2)) * 100;
      let smiley = '';
      let text = '';

      if (prozent >= 70) {
        smiley = '😄';
        text = 'Ihre Übereinstimmung mit der FDP ist hoch. Danke, dass Sie sich für eine moderne Politik interessieren!';
      } else if (prozent >= 40) {
        smiley = '😐';
        text = 'Ihre Übereinstimmung mit der FDP ist mittel. Für eine vollständige Auswertung nehmen Sie sich gerne Zeit, alle Fragen zu beantworten.';
      } else {
        smiley = '😞';
        text = 'Ihre Übereinstimmung ist gering. Ich freue mich, wenn Sie regelmäßig vorbeischauen oder meinem Instagram folgen und den FDP-Vibe erleben!';
      }

      let hinweis = '';
      if (beantworteteFragen < anzahlFragen) {
        hinweis = `<p><em>Für eine vollständige Auswertung nehmen Sie sich Zeit, alle Fragen zu beantworten.</em></p>`;
      }

      ergebnisDiv.innerHTML = `
        <h2>Übereinstimmung mit der FDP: ${prozent.toFixed(1)}% ${smiley}</h2>
        <p>${text}</p>
        ${hinweis}
      `;
    }
  </script>
</body>
</html>
