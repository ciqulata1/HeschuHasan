<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Auswertung – Meinungs-Macher</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Fallback Google Fonts für Beispielzwecke (Futura nicht frei verfügbar) -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', sans-serif; /* Platzhalter für Futura */
      margin: 0;
      padding: 0;
      background-color: #ffffff;
      color: #000;
    }

    header {
      background-color: #ffffff;
      padding: 1rem;
      text-align: center;
    }

    h1 {
      font-family: 'Montserrat', sans-serif; /* Futura Bold Oblique */
      font-weight: 700;
      font-size: 2rem;
      color: #e5007d;
      text-transform: uppercase;
      letter-spacing: -0.5px;
    }

    h2 {
      font-family: 'Montserrat', sans-serif; /* Futura Medium */
      font-weight: 500;
      color: #009ee3;
      text-transform: uppercase;
    }

    p {
      font-family: 'Montserrat', sans-serif; /* Futura Book */
      font-weight: 400;
      font-size: 1rem;
      color: #000;
      line-height: 1.6;
    }

    #ergebnis {
      max-width: 800px;
      margin: 2rem auto;
      padding: 1rem;
      background-color: #ffffff;
      border-radius: 0.5rem;
    }

    .contact-box {
      margin-top: 2rem;
      text-align: center;
    }

    .zurueck-link {
      display: inline-block;
      background-color: #e5007d;
      color: #ffed00;
      padding: 0.75rem 1.5rem;
      text-decoration: none;
      font-weight: 500;
      border-radius: 0.5rem;
      text-transform: uppercase;
    }

    footer {
      background-color: #009ee3;
      color: #fff;
      padding: 1rem;
      text-align: center;
    }

    .footer-icon {
      width: 20px;
      vertical-align: middle;
      margin-right: 0.5rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>Ihre Auswertung</h1>
  </header>

  <main>
    <div id="ergebnis"></div>
  </main>

  <footer>
    <p>Folgen Sie mir auf:
      <a href="https://instagram.com/heschuhasan" target="_blank">
        <img src="instagram-icon.png" alt="Instagram" class="footer-icon" />
      </a>
    </p>
    <p>&copy; 2025 Heschu Hasan – FDP Baden-Württemberg</p>
  </footer>

  <script>
    const params = new URLSearchParams(window.location.search);
    const daten = {};
    const ergebnisDiv = document.getElementById('ergebnis');
    const anzahlFragen = 16;

    for (const [key, value] of params.entries()) {
      daten[key] = value;
    }

    let summe = 0;
    let beantworteteFragen = 0;

    for (let i = 1; i <= anzahlFragen; i++) {
      const wert = daten['frage' + i];
      if (wert !== undefined && wert !== null && wert !== "") {
        summe += Number(wert);
        beantworteteFragen++;
      }
    }

    if (beantworteteFragen === 0) {
      ergebnisDiv.innerHTML = `
        <h2>Keine Antworten erkannt</h2>
        <p>Bitte füllen Sie den Fragebogen vollständig aus, um eine fundierte Auswertung zu erhalten.</p>
        <div class="contact-box">
          <a href="meinungsmacher.html" class="zurueck-link">Zurück zum Fragebogen</a>
        </div>
      `;
    } else {
      const prozent = (summe / (beantworteteFragen * 2)) * 100;
      let text = '';

      if (prozent >= 70) {
        text = 'Ihre politischen Werte stimmen in hohem Maße mit denen der Freien Demokraten überein. Vielen Dank für Ihr Interesse an einer zukunftsorientierten Politik.';
      } else if (prozent >= 40) {
        text = 'Sie teilen einige Positionen der Freien Demokraten. Wir laden Sie ein, unsere Programme näher kennenzulernen und sich ein umfassenderes Bild zu machen.';
      } else {
        text = 'Ihre Antworten zeigen, dass Ihre politischen Vorstellungen von denen der Freien Demokraten abweichen. Wir freuen uns dennoch über Ihr Interesse.';
      }

      let hinweis = '';
      if (beantworteteFragen < anzahlFragen) {
        hinweis = `<p><em>Sie haben nur ${beantworteteFragen} von ${anzahlFragen} Fragen beantwortet. Für eine vollständige Auswertung empfehlen wir, alle Fragen zu beantworten.</em></p>`;
      }

      ergebnisDiv.innerHTML = `
        <h2>Übereinstimmung: ${prozent.toFixed(1)}%</h2>
        <p>${text}</p>
        ${hinweis}
        <div class="contact-box">
          <a href="meinungsmacher.html" class="zurueck-link">Zurück zum Fragebogen</a>
        </div>
      `;
    }
  </script>
</body>
</html>
